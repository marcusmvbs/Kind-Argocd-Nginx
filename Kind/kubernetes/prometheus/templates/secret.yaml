apiVersion: v1
kind: Secret
metadata:
  name: prometheus-config
  namespace: monitoring
  labels:
    prometheus: prometheus-kube-prometheus-prometheus
stringData:
  prometheus-additional.yml: |-
    - job_name: probe/monitoring/nginx-scrape
      scrape_interval: 16s
      static_configs:
        - targets: ["blackbox-exporter-svc.monitoring:9115"]
    - job_name: serviceMonitor/monitoring/prometheus-prometheus-node-exporter/0
      scrape_interval: 16s
      static_configs:
        - targets: ["prometheus-prometheus-node-exporter.monitoring:9100"]
    - job_name: podMonitor/webserver/goapp/0
      scrape_interval: 16s
      static_configs:
        - targets: ["goapp-metrics-svc.webserver:8181"]
# - job_name: "node-exporter"
#   # metrics_path defaults to '/metrics'
#   # scheme defaults to 'http'.
#   scrape_interval: 16s
#   evaluation_interval: 16s
#   # scrape_timeout is set to the global default (10s).
#   static_configs:
#     - targets: ["localhost:8080", "localhost:9090", "localhost:9093", "localhost:9100"]